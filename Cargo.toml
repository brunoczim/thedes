[workspace]
members = ["./common", "./channel", "./server", "./memory-channel"]

[package]
name = "thedes"
version = "0.1.0"
authors = ["brunoczim <brunoczim@gmail.com>"]
edition = "2018"

[features]
clipboard = ["andiskaz/clipboard"]

[dependencies]
rand = "^0.7"
backtrace = "^0.3"
lazy_static = "^1.4"
chrono = "^0.4"
ahash = "^0.2.13"
directories = "^2.0"
sled = "^0.34"
fslock = "^0.2.0"
bincode = "^1.2"
noise = "^0.6"
toml = "^0.5.6"
num = "^0.4"
async-trait = "^0.1.31"

[dependencies.serde]
version = "^1.0"
features = ["derive"]

[dependencies.ndarray]
version = "^0.13"
features = ["serde"]

[dependencies.gardiz]
git = "https://github.com/brunoczim/gardiz"
branch = "main"
features = ["impl-serde"]

[dependencies.andiskaz]
git = "https://github.com/brunoczim/andiskaz"
branch = "main"
features = ["plane"]

[dependencies.kopidaz]
git = "https://github.com/brunoczim/kopidaz"
branch = "main"

[dependencies.tokio]
version = "^1.14.0"
features = [
    "macros",
    "io-util",
    "io-std",
    "sync",
    "rt-multi-thread",
    "fs",
    "time"
]

[dependencies.tracing]
version = "^0.1.29"
features = ["max_level_trace", "release_max_level_warn"]

[dependencies.tracing-subscriber]
version = "^0.3.2"

[profile.release]
#debug = true

[profile.dev]
opt-level = 3
incremental = false
